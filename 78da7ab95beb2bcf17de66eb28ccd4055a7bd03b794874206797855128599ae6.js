const e=document.querySelector("footer .addresses"),t=new WeakMap,n=document.createElement("li");let o;function c(e){e.preventDefault(),o&&(o.style.fontWeight="normal",t.get(o).remove()),this.style.fontWeight="bold",o=this,n.append(t.get(this))}e.parentElement.parentElement.append(n),e.replaceWith(...Array.from(e.children,((e,n)=>{const o=document.createElement("a"),a=e.querySelector("address");return o.href="#",t.set(o,a),o.textContent=e.firstElementChild.textContent,o.style.fontWeight="normal",o.addEventListener("click",c),o.title=a.textContent,o})).flatMap(((e,t)=>[t?" | ":" ",e])));let a=localStorage.getItem("cookie-consent");function s(){const e=document.createElement("dialog");e.id="ask-consent";const t="function"!=typeof e.showModal;{const n=document.createElement("h2");n.textContent="Cookie settings",n.id="ask-consent-heading",e.setAttribute("aria-labelledby",n.id);const o=document.createElement("p");o.id="ask-consent-description",e.setAttribute("aria-describedby",o.id);const c=document.createElement("strong");let s=[" You have previously ",c," the use of cookies."];switch(a){case"":c.textContent="declined";break;case"yes":c.textContent="accepted";break;default:s=[]}const i=document.createElement("a");i.href="/privacy.html",i.textContent="privacy policy",o.append("Some parts of this website that relies on third-party content that might store cookies on your computer. You can read more about this in our ",i,".",...s);const r=document.createElement("form");r.method="dialog";const d=document.createElement("div"),l=document.createElement("input");l.type="submit",l.name="no",l.value="Decline and close";const m=document.createElement("input");m.type="submit",m.name="yes",m.autofocus=!0,m.value="Accept and close",d.append(l,m),r.append(d),e.append(n,o,r),r.addEventListener("submit",(n=>{var o;o="yes"===n.submitter?.name,localStorage.setItem("cookie-consent",a=o?"yes":""),t&&(n.preventDefault(),e.remove())}))}return t&&(e.showModal=function(){this.classList.add("ask-consent")}),e}function i(e,t){e?.preventDefault?.();const n=s();if(document.body.append(n),n.showModal(),n.addEventListener("close",(()=>n.remove()),{once:!0}),t)return new Promise(((e,t)=>{n.addEventListener("close",(()=>{a?e():t()}),{once:!0})}))}const r=document.createElement("li"),d=document.createElement("a");function l(e){if(e.ctrlKey||e.metaKey||e.altKey)return;const t=null==a?i(null,!0):a;t&&(e.preventDefault(),"yes"===t?u(this):t.then((()=>u(this)),(()=>{window.open(this.href)})))}let m;function u(e){if(null==m){const e=document.createElement("form"),t=document.createElement("div"),n=document.createElement("button");e.method="dialog",n.type="submit",n.title="Dismiss and close",n.append("‚ùå"),t.append(n),e.append(t);const o=document.createElement("iframe");o.width="100%",m=document.createElement("dialog"),m.className="form-in-modal",m.append(e,o),document.body.append(m)}const t=m.lastChild,n=e.href;t.src!==n&&(t.src=n),t.height=.75*window.innerHeight-40,m.showModal()}if(d.addEventListener("click",i),d.href="#",d.textContent="Cookie settings",r.append(d),document.querySelector("footer ul")?.append(r),"HTMLDialogElement"in window)for(const e of document.querySelectorAll(".open-in-modal"))e.addEventListener("click",l);