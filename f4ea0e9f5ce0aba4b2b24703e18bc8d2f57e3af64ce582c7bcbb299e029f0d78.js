let e=localStorage.getItem("cookie-consent");function t(){const t=document.createElement("dialog");t.id="ask-consent";const n="function"!=typeof t.showModal;{const o=document.createElement("h2");o.textContent="Cookie settings",o.id="ask-consent-heading",t.setAttribute("aria-labelledby",o.id);const i=document.createElement("p");i.id="ask-consent-description",t.setAttribute("aria-describedby",i.id);let a="";switch(e){case"":a=" You have previously chosen to decline the use of cookies.";break;case"yes":a=" You have previously consented to the use of cookies."}const c=document.createElement("a");c.href="/privacy.html",c.textContent="privacy policy",i.append("This website wants to store statistics cookies on your computer. You can read more about this in our ",c,".",a);const s=document.createElement("form");s.method="dialog";const r=document.createElement("div"),l=document.createElement("input");l.type="submit",l.name="no",l.value="Decline and close";const d=document.createElement("input");d.type="submit",d.name="yes",d.autofocus=!0,d.value="Accept and close",r.append(l,d),s.append(r),t.append(o,i,s),s.addEventListener("submit",(o=>{var i;i="yes"===o.submitter?.name,localStorage.setItem("cookie-consent",e=i?"yes":""),n&&(o.preventDefault(),t.remove())}))}return n&&(t.showModal=function(){this.classList.add("ask-consent")}),t}function n(e){e?.preventDefault?.();const n=t();document.body.append(n),n.showModal(),n.addEventListener("close",(()=>n.remove()),{once:!0})}const o=document.createElement("li"),i=document.createElement("a");i.addEventListener("click",n),i.href="#",i.textContent="Cookie policy",o.append(i),document.querySelector("footer ul")?.append(o),null==e&&n();const a=new WeakMap,c=new IntersectionObserver((e=>{for(const t of e)a.get(t.target)?.(t.isIntersecting)}),{threshold:[1]});function s(e,t){a.set(e,function(e,t){let n;e.classList.add("js-auto-slide");const o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Slide to previous item");const i=document.createElement("button");let a;function s(){n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}function r(){n=n?.nextElementSibling||e.firstElementChild,n!=o&&n!==i||(n=e.firstElementChild),s()}function l(){clearInterval(a),n??=e.firstElementChild}return i.type="button",i.setAttribute("aria-label","Slide to next item"),e.append(o,i),o.addEventListener("click",l),i.addEventListener("click",l),o.addEventListener("click",(function(){n=n?.previousElementSibling||e.lastElementChild,n!=o&&n!==i||(n=o.previousElementSibling),s()})),i.addEventListener("click",r),e.addEventListener("wheel",(function(e){Math.abs(e.deltaX)>20&&clearInterval(a)}),{passive:!0}),c.observe(e),e=>{e?a=setInterval(r,t):clearInterval(a)}}(e,t))}for(const e of document.querySelectorAll("[data-auto-slide-delay]"))s(e,Number(e.dataset.autoSlideDelay));const r=new WeakMap,l=new IntersectionObserver((e=>{for(const t of e)t.isIntersecting&&requestAnimationFrame(r.get(t.target))}),{threshold:[0]});function d(e,t,n,o,i){let a;const c=s=>{a??=s;const r=Math.min((s-a)/o,1);e.innerHTML=i.format(r*(n-t)+t),r<1?requestAnimationFrame(c):a=null};return c}const u=matchMedia("(prefers-reduced-motion: reduce)");function m(){u.matches?l.disconnect():function(){for(const n of document.querySelectorAll("[data-count-to]")){const{dataset:o}=n,i=Number(o.countTo),a=(e=i,t=o.currency,new Intl.NumberFormat("fr",{signDisplay:"always",maximumFractionDigits:0,minimumIntegerDigits:Math.floor(Math.log10(e))+1,...t?{style:"currency",currency:t}:{}}));r.set(n,d(n,0,i,999,a)),l.observe(n)}var e,t}()}function p(e){if(e.ctrlKey||e.metaKey||e.altKey)return;e.preventDefault();const t=document.createElement("iframe");t.height=this.offsetHeight,t.width=this.offsetWidth,t.title="YouTube video player",t.src=this.dataset.embed,t.setAttribute("frameborder","0"),t.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),t.setAttribute("allowfullscreen","");const{parentElement:n}=this;n.classList.add("video-loading"),t.addEventListener("load",(()=>{n.classList.remove("video-link"),n.classList.remove("video-loading"),n.classList.add("video-playing")})),this.replaceWith(t)}u.addEventListener("change",m),m();for(const e of document.querySelectorAll(".video-link>a[data-embed]"))e.addEventListener("click",p,{once:!0});