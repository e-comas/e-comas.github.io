const e=document.querySelector("details");e?.addEventListener("toggle",(function(){e?.hasAttribute("open")?document.body.classList.add("noScroll"):document.body.classList.remove("noScroll")})),addEventListener("resize",(t=>{window.innerWidth>990&&(e?.removeAttribute("open"),document.body.classList.remove("noScroll"))}));for(let e of document.body.getElementsByClassName("safariHover"))e.setAttribute("onclick"," ");for(let e of document.body.getElementsByClassName("safariActive"))e.setAttribute("ontouchstart"," ");const t=document.querySelector("footer .addresses"),n=new WeakMap,o=document.createElement("li");let a;function r(e){e.preventDefault(),a&&(a.style.fontWeight="normal",n.get(a).remove()),this.style.fontWeight="bold",a=this,o.append(n.get(this))}t.parentElement.parentElement.append(o),t.replaceWith(...Array.from(t.children,((e,t)=>{const o=document.createElement("a"),a=e.querySelector("address");return o.href="#",n.set(o,a),o.textContent=e.firstElementChild.textContent,o.style.fontWeight="normal",o.addEventListener("click",r),o.title=a.textContent,o})).flatMap(((e,t)=>[t?" | ":" ",e])));const s=new Set,c=new WeakMap,l=document.querySelectorAll("main>section>article"),i=new Map(["#Strategy","#Operations","#Content","#Advertising"].map((e=>[e,[]])));for(const e of l)c.set(e,Array.from(e.querySelectorAll(".tags>li"),(t=>{const n="#"+t.textContent;i.get(n)?.push(e);const o=document.createElement("a");return o.href=n,o.className="tag",o.append(t.firstChild),t.append(o),s.add(n),n})));const d=document.createElement("datalist");d.id="tags-list",d.append(...Array.from(s,(e=>{const t=document.createElement("option");return t.value=e,t})));const m=document.createElement("input");m.type="search",m.placeholder="Filter by tag",m.setAttribute("aria-label",m.placeholder),m.setAttribute("list",d.id);const u=()=>{location.hash=m.value};m.addEventListener("change",u),m.addEventListener("search",u),document.querySelector("main>aside").append(d,m,...Array.from(i,(([e,t])=>{const n=document.createElement("a");return n.textContent=e,n.href=e,n.className="cta tag",[n,...Array.from(new Set(t.flatMap((e=>c.get(e)))),(t=>{if(null==t||t===e)return document.createDocumentFragment();const n=document.createElement("a");return n.textContent=t,n.href=t,n.className="tag",n}))]})).flat());const h=document.createElement("style");function f(){const e=s.has(location.hash);for(const t of l)t.hidden=e&&!c.get(t).includes(location.hash);e?(m.value=location.hash,document.head.append(h),h.sheet.insertRule(`a.tag:not(.cta)[href=${JSON.stringify(location.hash)}]{color:#65D7BE}`,0),h.sheet.insertRule(`a.cta.tag[href=${JSON.stringify(location.hash)}]{background-color:#65D7BE}`,1)):(m.value="",h.remove()),m.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}addEventListener("hashchange",f),f();