let e=localStorage.getItem("cookie-consent");function t(){const t=document.createElement("dialog");t.id="ask-consent";const n="function"!=typeof t.showModal;{const o=document.createElement("h2");o.textContent="Cookie settings",o.id="ask-consent-heading",t.setAttribute("aria-labelledby",o.id);const c=document.createElement("p");c.id="ask-consent-description",t.setAttribute("aria-describedby",c.id);let a="";switch(e){case"":a=" You have previously chosen to decline the use of cookies.";break;case"yes":a=" You have previously consented to the use of cookies."}const s=document.createElement("a");s.href="/privacy.html",s.textContent="privacy policy",c.append("This website wants to store statistics cookies on your computer. You can read more about this in our ",s,".",a);const i=document.createElement("form");i.method="dialog";const l=document.createElement("div"),r=document.createElement("input");r.type="submit",r.name="no",r.value="Decline and close";const d=document.createElement("input");d.type="submit",d.name="yes",d.autofocus=!0,d.value="Accept and close",l.append(r,d),i.append(l),t.append(o,c,i),i.addEventListener("submit",(o=>{var c;c="yes"===o.submitter?.name,localStorage.setItem("cookie-consent",e=c?"yes":""),n&&(o.preventDefault(),t.remove())}))}return n&&(t.showModal=function(){this.classList.add("ask-consent")}),t}function n(e){e?.preventDefault?.();const n=t();document.body.append(n),n.showModal(),n.addEventListener("close",(()=>n.remove()),{once:!0})}const o=document.createElement("li"),c=document.createElement("a");function a(e){if(e.ctrlKey||e.metaKey||e.altKey)return;e.preventDefault();const t=document.createElement("iframe");t.height=this.offsetHeight,t.width=this.offsetWidth,t.title="YouTube video player",t.src=this.dataset.embed,t.setAttribute("frameborder","0"),t.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),t.setAttribute("allowfullscreen","");const{parentElement:n}=this;n.classList.add("video-loading"),t.addEventListener("load",(()=>{n.classList.remove("video-link"),n.classList.remove("video-loading"),n.classList.add("video-playing")})),this.replaceWith(t)}function s(e){const t=document.createElement("article");t.className="video-link background-wrapper";const n=document.createElement("a");n.href="https://www.youtube.com/watch?v="+e.videoId,n.dataset.embed=`https://www.youtube.com/embed/${e.videoId}?autoplay=1&amp;playsinline=1`,n.target="_blank",n.rel="noopener",n.title="Watch on YouTube",n.append("Play video on YouTube"),n.addEventListener("click",a,{once:!0});const o=document.createElement("img");return o.src=e.thumbnail.url,o.alt="Thumbnail",o.className="background",o.width=e.thumbnail.width,o.height=e.thumbnail.height,t.append(o,n),t}c.addEventListener("click",n),c.href="#",c.textContent="Cookie policy",o.append(c),document.querySelector("footer ul")?.append(o),null==e&&n();const i=document.getElementById("webinars");if(null!=i){const e=document.createElement("div");e.classList.add("dynamic-list","loading"),i.lastElementChild.before(e),fetch("https://e-comas-cors.herokuapp.com/"+encodeURI("https://www.youtube.com/feeds/videos.xml?channel_id=UClCYdUcUs1zJk8O3a4lC9lw")).then((e=>e.ok?e.text():Promise.reject(e))).then((async t=>{const n=(new DOMParser).parseFromString(t,"application/xml"),o=n.createDocumentFragment();for(const e of n.querySelectorAll("feed>entry")){const t=e.getElementsByTagNameNS("http://search.yahoo.com/mrss/","group").item(0).getElementsByTagNameNS("http://search.yahoo.com/mrss/","thumbnail").item(0);o.append(s({title:e.querySelector("title").textContent,videoId:e.getElementsByTagNameNS("http://www.youtube.com/xml/schemas/2015","videoId").item(0).textContent,thumbnail:{url:t.getAttribute("url"),width:t.getAttribute("width"),height:t.getAttribute("height")}}))}e.append(o),e.classList.remove("loading")})).catch((e=>{console.log(e),console.error(Error("Failed to load RSS feed",{cause:e}))}))}const l=new DOMParser;function r(e){const t=document.createElement("article"),n=document.createElement("h4");n.textContent=e.title;const o=document.createElement("p"),c=l.parseFromString(e.description,"text/html");o.textContent=c.body.firstElementChild?.nextElementSibling?.textContent??"";const a=document.createElement("a");return a.href=e.link,a.textContent="Play",t.append(n,o,a),t}const d=document.getElementById("podcast");if(null!=d){const e=document.createElement("div");e.classList.add("dynamic-list","loading"),d.lastElementChild.before(e),fetch("https://anchor.fm/s/4ce11bac/podcast/rss").then((e=>e.ok?e.text():Promise.reject(e.status))).then((async t=>{const n=l.parseFromString(t,"application/xml"),o=n.createDocumentFragment();for(const e of n.querySelectorAll("channel>item"))o.append(r({title:e.querySelector("title").textContent,description:e.querySelector("description").textContent,link:e.querySelector("link").textContent}));e.append(o),e.classList.remove("loading")})).catch((e=>{console.log(Error("Failed to load podcast feed",{cause:e}))}))}