const e="ask-consent";let t,n=localStorage.getItem("cookie-consent"),o=!1;function a(){const t=document.createElement("dialog");t.id=e;const a="function"!=typeof t.showModal;{const c=document.createElement("h2");c.textContent="Cookie settings",c.id=e+"-heading",t.setAttribute("aria-labelledby",c.id);const i=document.createElement("p");i.id=e+"-description",t.setAttribute("aria-describedby",i.id);const s=document.createElement("strong");let r=[" You have previously ",s," the use of cookies."];switch(n){case"":s.textContent="declined";break;case"yes":s.textContent="accepted";break;default:r=[]}const l=document.createElement("a");l.href="/privacy.html",l.textContent="privacy policy",i.append("Some parts of this website that relies on third-party content that might store cookies on your computer. You can read more about this in our ",l,".",...r);const d=document.createElement("form");d.method="dialog";const m=document.createElement("div"),u=document.createElement("input");u.type="submit",u.name="no",u.value="Decline and close";const p=document.createElement("input");p.type="submit",p.name="yes",p.autofocus=!0,p.value="Accept and close";const f=document.createElement("input");f.type="submit",f.className="once",f.name="once",f.value="Yes, but keep asking me";const h=document.createElement("input");if(h.type="submit",h.className="once",h.name="maybe-later",h.value="Not this time, decide later",null==n){const e=document.createElement("div"),t=document.createElement("div");e.append(f,p),t.append(h,u),m.append(t,e)}else m.append(p,u);d.append(m),t.append(c,i,d),d.addEventListener("submit",(e=>{const c=e.submitter?.name;var i;"once"!==c&&"maybe-later"!==c&&(i="yes"===c,localStorage.setItem("cookie-consent",n=i?"yes":"")),o="yes"===c||"once"===c,a&&(e.preventDefault(),t.remove())}))}return a&&(t.showModal=function(){this.classList.add(e)}),t}function c(e,n){if(e?.preventDefault?.(),null!=t)return t;const c=a();return document.body.append(c),c.showModal(),c.addEventListener("close",(()=>c.remove()),{once:!0}),n?t=new Promise(((e,n)=>{c.addEventListener("close",(()=>{o?e():n(),o=!1,setTimeout((()=>{t=null}),999)}),{once:!0})})):void 0}const i=document.createElement("li"),s=document.createElement("a");function r(e){const t=document.createElement("iframe");t.height=e.offsetHeight,t.width=e.offsetWidth,t.title="YouTube video player",t.src=e.dataset.embed,t.setAttribute("frameborder","0"),t.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"),t.setAttribute("allowfullscreen","");const{parentElement:n}=e;n.classList.add("video-loading"),t.addEventListener("load",(()=>{n.classList.remove("video-link"),n.classList.remove("video-loading"),n.classList.add("video-playing"),requestAnimationFrame((()=>t.contentWindow.focus()))})),e.replaceWith(t)}function l(e){if(e.ctrlKey||e.metaKey||e.altKey)return;const t=null==n?c(null,!0):n;t&&(e.preventDefault(),"yes"===t?r(this):t.then((()=>r(this)),(()=>{window.open(this.href)})))}s.addEventListener("click",c),s.href="#",s.textContent="Cookie settings",i.append(s),document.querySelector("footer ul")?.append(i);for(const e of document.querySelectorAll(".video-link>a[data-embed]"))e.addEventListener("click",l,{once:!0});const d=document.querySelector("footer .addresses"),m=new WeakMap,u=document.createElement("li");let p;function f(e){e.preventDefault(),p&&(p.style.fontWeight="normal",m.get(p).remove()),this.style.fontWeight="bold",p=this,u.append(m.get(this))}d.parentElement.parentElement.append(u),d.replaceWith(...Array.from(d.children,((e,t)=>{const n=document.createElement("a"),o=e.querySelector("address");return n.href="#",m.set(n,o),n.textContent=e.firstElementChild.textContent,n.style.fontWeight="normal",n.addEventListener("click",f),n.title=o.textContent,n})).flatMap(((e,t)=>[t?" | ":" ",e])));