var e=document.querySelector("details");e?.addEventListener("toggle",(function(){e?.hasAttribute("open")?document.body.classList.add("noScroll"):document.body.classList.remove("noScroll")}));const t=document.querySelector("footer .addresses"),n=new WeakMap,o=document.createElement("li");let r;function l(e){e.preventDefault(),r&&(r.style.fontWeight="normal",n.get(r).remove()),this.style.fontWeight="bold",r=this,o.append(n.get(this))}t.parentElement.parentElement.append(o),t.replaceWith(...Array.from(t.children,((e,t)=>{const o=document.createElement("a"),r=e.querySelector("address");return o.href="#",n.set(o,r),o.textContent=e.firstElementChild.textContent,o.style.fontWeight="normal",o.addEventListener("click",l),o.title=r.textContent,o})).flatMap(((e,t)=>[t?" | ":" ",e])));const c=new DOMParser;function i(){const e=document.createElement("div"),t=document.createElement("div");return e.style.position="relative",e.style.width="100%",e.append(t),{feedContainer:t,feedContainerWrapper:e}}const a=new WeakMap,s=new IntersectionObserver((e=>{for(const t of e)a.get(t.target)?.(t.isIntersecting)}),{threshold:[1]});function d(e,t){a.set(e,function(e,t){let n;e.classList.add("js-auto-slide");const o=document.createElement("button");o.type="button",o.setAttribute("aria-label","Slide to previous item");const r=document.createElement("button");let l;function c(){n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}function i(){n=n?.nextElementSibling||e.firstElementChild,n!=o&&n!==r||(n=e.firstElementChild),c()}function a(){clearInterval(l),n??=e.firstElementChild}return r.type="button",r.setAttribute("aria-label","Slide to next item"),e.append(o,r),o.addEventListener("click",a),r.addEventListener("click",a),o.addEventListener("click",(function(){n=n?.previousElementSibling||e.lastElementChild,n!=o&&n!==r||(n=o.previousElementSibling),c()})),r.addEventListener("click",i),e.addEventListener("wheel",(function(e){Math.abs(e.deltaX)>20&&clearInterval(l)}),{passive:!0}),s.observe(e),e=>{e?l=setInterval(i,t):clearInterval(l)}}(e,t))}const m=/#\w+\b/g,u=document.createElement("span");document.getElementById("podcast").lastElementChild?.before(u);const p=Object.create(null);var f,h;(f=u,h=(e,t,n)=>{for(const[o]of n.description.matchAll(m)){if(!(o in p)){const e=document.createElement("section");e.classList.add("podcast");const n=document.createElement("h3");n.textContent=o,n.style.textTransform="none";const{feedContainerWrapper:r,feedContainer:l}=i();l.classList.add("dynamic-list"),e.append(n,r),t.append(e),p[o]=l}p[o].append(e.cloneNode(!0))}},function(e,t,n,o){const{feedContainer:r,feedContainerWrapper:l}=i();return r.classList.add("dynamic-list","loading"),e.replaceWith(l),fetch(t).then((e=>e.ok?e.text():Promise.reject(e))).then((async e=>{const t=c.parseFromString(e,"application/xml"),l=t.createDocumentFragment();for(const e of t.querySelectorAll(n))o(e,l,c);return r.append(l),r.classList.remove("loading"),r})).catch((t=>(l.replaceWith(e),Promise.reject(Error("Failed to load RSS feed",{cause:t})))))}(f,"https://anchor.fm/s/4ce11bac/podcast/rss","channel>item",((e,t,n)=>{const o=(e=>({title:e.querySelector("title").textContent,description:e.querySelector("description").textContent,link:e.querySelector("link").textContent}))(e);h(function(e,t){const n=document.createElement("article"),o=document.createElement("h4");o.textContent=e.title;const r=document.createElement("p"),l=t.parseFromString(e.description,"text/html");r.textContent=l.body.firstElementChild?.nextElementSibling?.textContent??"";const c=document.createElement("a");return c.href=e.link,c.target="_blank",c.rel="noopener",c.textContent="Play",n.append(o,r,c),n}(o,n),t,o)}))).then((e=>{for(const e of Object.values(p))console.log(e,e.childElementCount),1===e.childElementCount?e.style.overflowX="hidden":d(e,4e3);e.parentElement.parentElement.replaceWith(...e.children)}),console.warn);